# Справочник по работе в командной строке ОС Ubuntu (интерпретатор языка bash)

## Некоторые ключевые слова и символы
* **.** - обозначение текущей директории
* **..** - обозначение родительской директории
* **/** между каталогами - символ-разделитель при указании пути к файлу или директории
* **/** - корневой каталог файловой системы
* **~** - домашний каталог текущего пользователя (обычно /home/имя_пользователя)

## Способы указания пути к файлу или директории
* **/home/user/file** - абсолютный
* **~/file** - абсолютный, используя сокращение ~
* **./file** - относительный (относительно текущего каталога, например, /home/user)

## Сочетания клавиш
* **Ctrl+C** - прервать выполнение текущей команды
* **Стрелка вверх** - показать предыдущую введенную команду
* **Стрелка вниз** - показать следующую введенную команду
* **Tab** - автозаполнение имени файла/директории/команды
* ctrl+R - обратный поиск в истории команд по подстроке. Например, вспомнив, что выполнялось что-то там и использовась команда less, можно найти все предыдущие упоминания этой команды в истории. Повторное нажание ctrl+R покажет предпоследнее употребление подстроки и так далее

## Текстовые редакторы
* **nano** - консольный текстовый редактор
* **mcedit** - консольный текстовый редактор, используемый в mc (midnight commander), аналоге TotalCommander
* **gedit** - текстовый редактор с графическим интерфейсом
* **vim** - консольный текстовый редактор (по-умолчанию установлен старый вариант **vi**)

## Примеры команд
* **cd DIR_NAME** - переход в директорию с именем DIR_NAME
* **cd ..** - переход в родительскую директорию
* **cd** - переход в домашний каталог
* **ls -la** - вывод списка файлов в текущей директории, -l отвечает за подробный вывод, -a отображает скрытые директории
* **nautilus .** - отображение текущей директории в оконном проводнике 
* **cat FILE_NAME** - вывод содержимомго файла с названием FILE_NAME
* **./script.sh** - запуск скрипта script.sh из текущей директории
* **/home/user/Desktop/script.sh** - запуск по абсолютному пути скрипта script.sh, расположенного на рабочем столе пользователя с именем user
* **mount** - вывод списка подмонтированных файловых систем
* **history** - истрория ранее вводимых команд
* **pwd** - вывести текущую директорию
* **mkdir DIR_NAME** - создать директорию DIR_NAME
* **touch FILE_NAME** - создать файл FILE_NAME (обновить время его последней модификации, если он уже существует)
* **rm FILE_NAME** - удалить файл FILE_NAME
* **rmdir DIR_NAME** - удалить ПУСТУЮ директорию DIR_NAME
* **rm -rf DIR_NAME** - удалить не пустую директорию DIR_NAME (!)БЕЗ КАКИХ-ЛИБО ПРЕДУПРЕДЖДЕНИЙ (!)
* **exit** - завершить текущий сеанс bash
* **clear** - очистить экран
* **nano FILE_NAME** - открыть файл FILE_NAME в редакторе nano с правами текущего пользователя
* **gedit FILE_NAME** - открыть файл FILE_NAME в редакторе gedit с правами текущего пользователя
* **sudo nano FILE_NAME** - открыть файл FILE_NAME в редакторе nano с правами суперпользователя
* **sudo gedit FILE_NAME** - открыть файл FILE_NAME в редакторе gedit с правами суперпользователя
* **chmod +x FILE_NAME** - сделать файл исполняемым
* **chown -USER_NAME:GROUP_NAME FILE_NAME** - изменить владельца файл FILE_NAME
* **chown USER_NAME. FILE_NAME** - изменить владельца файл FILE_NAME на USER_NAME, и группу на USER_NAME
* **ls --help** - справка по команде ls (работает с любой командой)
* **man ls** - развернутая справка по команде ls (работает с любой командой)
* **file** - вывод информации о типе файла; полезно при отсутствии расширения
* **ln -s SOURCE DEST** создание символической ссылки DEST на файл или каталог DEST
* **whoami** - вывод имени текущего пользователя
* **ps aux** - вывод списка запущенных процессов
* **kill PID** - завершить (послать сигнал SIGKILL) процесс с номером PID
* **ifconfig** - вывод списка сетевых интерфейсов 

* В командах man, less, vim работает поиск по подстроке. Нажмите /, введите строку для поиска. Поиска далее Ctrl+n, shift+n - поиск в обратном направлении.

## **Условные операторы**
    ``` bash
    if [[ условие ]] # обратите внимание: условие и скобки 	разделены ПРОБЕЛАМИ
    then
        # действия, если условие1 истинно
    elif [[ условие2 ]]
    then
    	# действия, если условие1 ложно, но условие2 истинно
    else 
    	# действия, если оба условия ложны
    fi
    ```
	
* **Условия (строки)**:
	
```bash
-z <строка> #строка пуста
-n <строка> #строка не пуста
<стр1> == <стр2> #строки равны
<стр1> != <стр2> #строки не равны
```

* **Условия [числа (строки)]**:

```bash
-eq, (==)	# равно
-ne, (!=)	# не равно
-lt, (<)	# меньше
-le			# меньше или равно
-gt, (>)	# больше
-ge			# больше или равно
```
* **Условия (файлы)**:

```bash
-e <путь> # путь сущетсует
-f <путь> # это файл
-d <путь> # это директория
-s <путь> # размер файла больше 0
-x <путь> # файл исполняемый

```
* **Условия (логические)**:

```bash
!	# отрицание логического выражения
&&	# логическое "И"
||	# логическое "ИЛИ"
```
## Циклы

```bash
for переменная in список_значений 
do 
	# действия, каждый раз переменная 
	# принимает следующее значение 
	# из списка 
done 

break прервать выполнение
сontinue перейти на след. значение
```
**Синтаксис while:**
```bash
while [[ условие ]] 
do 
	# действия, пока условие истинно 
done 


```

## Встроенные переменные:
* **$#** - количество аргументов командной строки 
* **$@** - список аргументов командной строки 
* **$?** - возвращаемое значение последней выполненной команды (0 - успех)

**Пример: запуск следующего скрипта с параметрами 1 2 3**
```bash
#!/bin/bash
echo $# # выведет 3 
echo $@ # выведет 1 2 3
echo $? # выведет 0, поскольку предыдущая команда (echo $@) выполнилась успешно
```